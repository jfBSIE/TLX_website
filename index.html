<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NASA TLX WEBSITE</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: url('https://wallpapercave.com/wp/wp3423610.jpg') no-repeat center center fixed; 
            background-size: cover;
            color: #FFFFFF;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        .navbar {
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            overflow: hidden;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }

        .navbar a {
            float: left;
            display: block;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }

        .navbar a:hover {
            background-color: #ddd;
            color: black;
        }

        .navbar a.active {
            background-color: #1E90FF;
            color: white;
        }

        .content-section {
            background-color: rgba(255, 255, 255, 0.9); /* Semi-transparent white background */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 1000px;
            max-height: 3000px;
            text-align: left;
            color: #000000; /* Black text color inside containers */
            margin-top: 70px; /* Adjust margin to accommodate navbar */
            display: none;
        }

        h1, h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #000000; /* Black text color for headers */
        }

        .slider-container, .input-container, .comparison-container {
            margin-bottom: 15px;
            text-align: left;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #000000; /* Black text color for labels */
        }

        select, input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            box-sizing: border-box;
            border: 2px solid #1E90FF; /* Blue border */
            border-radius: 5px; /* Rounded corners */
        }

        button {
            background-color: #FFA500; /* Orange button color */
            color: #FFFFFF; /* White text color */
            border: none;
            padding: 10px 20px;
            border-radius: 5px; /* Rounded corners */
            cursor: pointer;
            font-size: 16px; /* Larger font size */
            transition: background-color 0.3s; /* Smooth hover effect */
        }

        button:hover {
            background-color: #FF4500; /* Darker orange on hover */
        }

        #result,
        #pair-results,
        #final-results,
        #report {
            margin-top: 20px;
        }

        .bullet-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .bullet-container input[type="radio"] {
            display: none;
        }

        .bullet-container label {
            cursor: pointer;
            background-color: #e0e0e0;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 2px;
            position: relative;
        }

        .bullet-container label::before {
            content: '';
            position: absolute;
            top: -25px;
            font-size: 12px;
            display: none;
        }

        .bullet-container input[type="radio"]:checked + label::before {
            content: attr(data-value);
            display: block;
        }

        .bullet-container input[type="radio"]:checked + label {
            background-color: #1E90FF; /* Blue bullet when selected */
            color: white;
        }

        .comparison-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }  

        .comparison-container label {
            margin: 0 10px;
        }

        .slider-container {
            margin-bottom: -10px;
        }

        .question {
            text-align: center;
            font-size: 16px;
            margin-bottom: -20px;
            color: #000000; /* Black text color */
        }

        .line-scale {
            position: relative;
            height: 60px;
            margin: 20px 0;
            display: flex;
            align-items: center;
        }

        .scale-label {
            position: absolute;
            top: 45px;
            font-size: 14px;
            color: #000000; /* Black text color */
        }

        .scale-label.left {
            left: 0;
        }

        .scale-label.right {
            right: 0;
        }

        .line-scale .horizontal-line {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 1px;
            background: #000000; /* Black line */
        }

        .line-scale label {
            position: relative;
            text-align: center;
            flex: 1;
            cursor: pointer;
        }

        .line-scale label span {
            display: block;
            width: 1px;
            height: 20px;
            background: #000000; /* Black scale marks */
            margin: 0 auto;
            position: relative;
        }

        .line-scale label span[data-value="50"] {
            height: 30px;
            background: #000000;
            font-weight: bold;
        }

        .line-scale label span::before {
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 1px solid #000000; /* Black border */
            background: transparent;
            cursor: pointer;
        }

        .line-scale input[type="radio"] {
            display: none;
        }

        .line-scale input[type="radio"]:checked + label span::before {
            background-color: transparent;
            border-color: #1E90FF; /* Blue border when selected */
        }                                 

        table {
            width: 100%;
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid #000000; /* Black border */
        }

        th, td {
            padding: 8px;
            text-align: left;
            color: #000000; /* Black text color */
        }

        ul {
            list-style-type: none; 
            padding: 0;
        }

        #landing-page {
            position: relative;
            height: 100vh;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: url('https://wallpapercave.com/wp/wp3423610.jpg') no-repeat center center fixed; 
            background-size: cover;
        }

        #landing-page button {
            background-color: #FFA500; 
            margin-top: 620px;
            color: #FFFFFF;
        }

        /* You can also add a hover effect if needed */
        #landing-page button:hover {
            background-color: #FF4500; 
        }

        .title-container {
            text-align: center;
            margin-bottom: 20px; /* Adjust margin as needed */
        }
        
        h1.title {
            margin: 0;
            font-size: 50px;
            color: white;
        }

        .centered-button {
            display: block;
            margin: 20px auto;
        }

        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #landing-page {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            width: 100%;
        }
        
        #other-section {
            display: none;
            height: 100%;
            width: 100%;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        #instruction-page-1 p, #instruction-page-2 p {
            font-size: 20px; /* Increase this value as needed */
        }
        
        #instruction-page-2 ul li {
            font-size: 20px; /* Increase this value as needed */
        }
        
        #done {
            position: fixed;
            top: 20px;
            right: 20px;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <a href="#home" class="active" onclick="showContent('home')">Home</a>
        <a href="#about" onclick="showContent('about')">About NASA-TLX</a>
        <a href="#questionnaire" onclick="showContent('questionnaire')">NASA-TLX Questionnaire</a>
        <a href="#contact" onclick="showContent('contact')">Contact Us</a>
    </div>
    
    <div id="landing-page">
        <button id="getStartedButton" class="centered-button">Get Started</button>
    </div>

    <div class="container" id="form-page" style="display:none;">
        <h2>Participant Information</h2>
        <form id="info-form">
            <div class="input-container">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="input-container">
                <label for="age">Age:</label>
                <input type="text" id="age" name="age" required>
            </div>
            <div class="input-container">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
            <div class="input-container">
                <label for="block-section">Course/Profession:</label>
                <input type="text" id="block-section" name="block-section" required>
            </div>
            <div class="input-container">
                <label for="occupation">Occupation:</label>
                <input type="text" id="occupation" name="occupation" required>
            </div>
            <button type="button" onclick="showInstructionPage1(); this.parentElement.style.display = 'none'">Next</button>
        </form>
    </div>

    <div class="container" id="instruction-page-1" style="display:none;">
        <h2>Instruction</h2>
        <p>Determine your source of load weight, choose between each pair of load weight sources. Identifying the Load Weight Sources you should have a clear understanding of the load weight sources available to you.</p>
        <button type="button" onclick="showPairComparisonPage(); this.parentElement.style.display = 'none'">Next</button>
    </div>    

    <div class="container" id="pair-comparison-page" style="display:none;">
        <h2>Source of Load (Weight)</h2>
        <form id="pair-comparison-form">
            <!-- Pair comparison radio buttons will be generated here -->
        </form>
        <button type="button" onclick="showPairResults()">Show Pair Results</button>
        <div id="pair-results" style="display:none;">
            <h2>Results - Pairs</h2>
            <!-- Pair results will be displayed here -->
        </div>
        <button type="button" onclick="goBackToFormPage(); this.parentElement.style.display = 'none'">Back</button>
        <button type="button" onclick="showInstructionPage2(); this.parentElement.style.display = 'none'">Next</button>
    </div>

    <div class="container" id="instruction-page-2" style="display:none;">
        <h2>Instruction</h2>
        <p>Rate yourself on the magnitude that best fits you.</p>
        <ul>
            <li>The mental workload is Very Low: 0-20</li>
            <li>The mental workload is Low: 21-40 </li>
            <li>The mental workload is Moderate: 41-60</li>
            <li>The mental workload is High: 61-80 </li>
            <li>The mental workload is Very High: 81-100</li>
        </ul>
        <button type="button" onclick="showTLXPage(); this.parentElement.style.display = 'none'">Next</button>
    </div>

    <div class="container" id="tlx-page" style="display:none;">
        <h2>Magnitude of Load (Rating)</h2>
        <form id="tlx-form">
            <div class="slider-container">
                <p class="question">How mentally demanding was the task?</p>
                <label for="mental-demand">Mental Demand: <span id="mental-demand-value">0</span></label>
                <div class="line-scale" id="mental-demand-container"></div>
            </div>
            
            <div class="slider-container">
                <p class="question">How physically demanding was the task?</p>
                <label for="physical-demand">Physical Demand: <span id="physical-demand-value">0</span></label>
                <div class="line-scale" id="physical-demand-container"></div>
            </div>
            
            <div class="slider-container">
                <p class="question">How hurried or rushed was the pace of the task?</p>
                <label for="temporal-demand">Temporal Demand: <span id="temporal-demand-value">0</span></label>
                <div class="line-scale" id="temporal-demand-container"></div>
            </div>
            
            <div class="slider-container">
                <p class="question">How successful were you in accomplishing what you were asked to do?</p>
                <label for="performance">Performance: <span id="performance-value">0</span></label>
                <div class="line-scale" id="performance-container"></div>
            </div>
            
            <div class="slider-container">
                <p class="question">How hard did you have to work to accomplish your level of performance?</p>
                <label for="effort">Effort: <span id="effort-value">0</span></label>
                <div class="line-scale" id="effort-container"></div>
            </div>
            
            <div class="slider-container">
                <p class="question">How insecure, discouraged, irritated, stressed, and annoyed were you?</p>
                <label for="frustration">Frustration: <span id="frustration-value">0</span></label>
                <div class="line-scale" id="frustration-container"></div>
            </div>                                    
            
        </form>
        <div id="final-results" style="display:none;">
            <h2>Final Results</h2>
            <p>Mental Demand: <span id="final-mental-demand">0</span></p>
            <p>Physical Demand: <span id="final-physical-demand">0</span></p>
            <p>Temporal Demand: <span id="final-temporal-demand">0</span></p>
            <p>Performance: <span id="final-performance">0</span></p>
            <p>Effort: <span id="final-effort">0</span></p>
            <p>Frustration: <span id="final-frustration">0</span></p>
            <h2>Perceived Workload - Global Index: <span id="tlx-score">0</span></h2>
        </div>
        <button type="button" onclick="goBackToPairComparisonPage(); this.parentElement.style.display = 'none'">Back</button>
        <button type="button" onclick="calculateRating(); this.parentElement.style.display = 'none'">Generate Report</button>     
    </div>

    <div class="container" id="report-page" style="display:none;">
        <h2>Participants Report</h2>
        <div id="report"></div>
        <button type="button" onclick="goBackToLandingPage()">Done</button> <!-- Added Done button -->
    </div> 

    <div id="other-section">
        <div id="home" class="content-section">
            <h1>Welcome to the NASA Task Load Index (TLX) Portal</h1>
            <p>Discover the NASA TLX, the gold standard for measuring and analyzing subjective workload in various tasks. Our comprehensive tools and resources are designed to help researchers, professionals, and organizations understand and optimize human performance.</p>
        </div>

        <div id="about" class="content-section">
            <h1>What is NASA TLX?</h1>
            <p>The NASA Task Load Index (TLX) is a widely-used, multidimensional rating procedure that provides an overall workload score based on a weighted average of ratings on six subscales:</p>
            <ul>
                <li>Mental Demand: How much mental and perceptual activity was required?</li>
                <li>Physical Demand: How much physical activity was required?</li>
                <li>Temporal Demand: How much time pressure did you feel?</li>
                <li>Performance: How successful were you in accomplishing the task?</li>
                <li>Effort: How hard did you have to work to accomplish your level of performance?</li>
                <li>Frustration: How insecure, discouraged, irritated, stressed, and annoyed were you?</li>
            </ul>
            <h2>History and Development</h2>
            <p>The NASA TLX was developed by Sandra G. Hart and Lowell E. Staveland at NASA Ames Research Center in the 1980s. It was created to provide a reliable and valid measure of workload that could be applied across various domains and tasks.</p>
            <h2>How to Use NASA TLX</h2>
            <p>Step-by-Step Guide:</p>
            <ul>
                <li>Task Selection: Choose the task or set of tasks you want to evaluate.</li>
                <li>Rating Scale: Ask participants to rate the task on the six subscales.</li>
                <li>Weighting Procedure: Determine the importance of each subscale for the specific task.</li>
                <li>Data Analysis: Calculate the overall workload score using the weighted ratings.</li>
            </ul>
            <h2>Example Application</h2>
            <p>Explore how researchers use NASA TLX in different fields such as aviation, healthcare, and human-computer interaction.</p>
            <h2>Resources: Downloadable Tools</h2>
            <ul>
                <li>NASA TLX Manual</li>
                <li>TLX Rating Sheet</li>
                <li>TLX Data Analysis Tool (Excel, Python scripts)</li>
                <li>Research Papers and Case Studies</li>
                <li>Key research articles</li>
                <li>Case studies demonstrating the application of NASA TLX in various domains</li>
                <li>Tutorial Videos</li>
                <li>How to administer NASA TLX</li>
                <li>Interpreting NASA TLX results</li>
                <li>FAQs</li>
            </ul>
            <h2>FAQs</h2>
            <p><strong>What is the NASA TLX used for?</strong></p>
            <p>NASA TLX is used to measure the perceived workload of individuals performing a wide range of tasks. It helps identify areas where performance may be compromised due to high workload.</p>
            <p><strong>Who can use NASA TLX?</strong></p>
            <p>Researchers, professionals, and organizations across various fields including psychology, human factors, ergonomics, and more.</p>
            <p><strong>Is there a digital version of NASA TLX?</strong></p>
            <p>Yes, digital tools and apps are available for administering NASA TLX and analyzing the data.</p>
            <h2>Testimonials: What Users Are Saying</h2>
            <p>"NASA TLX has been an invaluable tool in our research, providing deep insights into the workload and performance of our participants." - Dr. Jane Smith, Cognitive Scientist</p>
            <p>"The detailed breakdown of workload dimensions has helped us optimize our workflows and improve productivity." - John Doe, Human Factors Engineer</p>
        </div>

        <div id="questionnaire" class="content-section">
            <h1>NASA TLX Questionnaires</h1>
            <p>The NASA Task Load Index (TLX) questionnaires are designed to measure subjective workload across six dimensions. These questionnaires are essential tools for researchers and professionals aiming to assess and optimize human performance in various tasks.</p>
            <h2>Dimensions Assessed by NASA TLX</h2>
            <ul>
                <li><em>Mental Demand</em></li>
                <li><em>Physical Demand</em></li>
                <li><em>Temporal Demand</em></li>
                <li><em>Performance</em></li>
                <li><em>Effort</em></li>
                <li><em>Frustration</em></li>
            </ul>
            <h2>Components of the NASA TLX Questionnaires</h2>
            <h3>Rating Scale Questionnaire</h3>
            <ul>
                <li>Participants rate each dimension on a scale from 0 (very low) to 100 (very high).</li>
                <li>This questionnaire helps to gather subjective assessments of the workload experienced during a task.</li>
            </ul>
            <h3>Pairwise Comparison Questionnaire</h3>
            <ul>
                <li>Participants compare each pair of the six dimensions to determine which dimension is more relevant to the workload for the task.</li>
                <li>This helps in weighting the importance of each dimension in calculating the overall workload score.</li>
            </ul>
            <h2>How to Administer the NASA TLX Questionnaires</h2>
            <ul>
                <li><strong>Preparation</strong>
                    <ul>
                        <li>Select the task or set of tasks you want to evaluate.</li>
                        <li>Ensure participants understand the purpose of the assessment and the meaning of each dimension.</li>
                    </ul>
                </li>
                <li><strong>Rating Scale</strong>
                    <ul>
                        <li>Provide the Rating Scale Questionnaire to the participants after they complete the task.</li>
                        <li>Ask participants to rate each of the six dimensions based on their experience during the task.</li>
                    </ul>
                </li>
                <li><strong>Pairwise Comparison</strong>
                    <ul>
                        <li>Provide the Pairwise Comparison Questionnaire.</li>
                        <li>Participants compare each pair of dimensions (e.g., Mental Demand vs. Physical Demand) to determine which one had a greater impact on their workload.</li>
                    </ul>
                </li>
                <li><strong>Data Collection</strong>
                    <ul>
                        <li>Collect the completed questionnaires from all participants.</li>
                        <li>Ensure all ratings and comparisons are recorded accurately.</li>
                    </ul>
                </li>
                <li><strong>Data Analysis</strong>
                    <ul>
                        <li>Use the ratings and pairwise comparisons to calculate the weighted workload score.</li>
                        <li>Analyze the data to identify areas of high workload and potential improvements.</li>
                    </ul>
                </li>
            </ul>
        </div>

        <div id="contact" class="content-section">
            <h1>Contact Us</h1>
            <p>If you have any questions or need further assistance, please contact us at:</p>
            <p>Email: support@nasatlx.org</p>
            <p>Phone: +639912579478</p>
            <p>Address: NASA Ames Research Center, Moffett Field, CA 94035, USA</p>
            <h2>Follow us on social media:</h2>
            <p>Twitter: @NASATLX</p>
            <p>LinkedIn: NASA Task Load Index</p>
        </div>
    </div>

    <script>
        document.getElementById('getStartedButton').addEventListener('click', function() {
            document.getElementById('landing-page').style.display = 'none';
            document.getElementById('other-section').style.display = 'flex';
            showContent('home');
        });

        function showContent(sectionId) {
            const sections = document.getElementsByClassName('content-section');
            for (let i = 0; i < sections.length; i++) {
                sections[i].style.display = 'none';
            }
            document.getElementById(sectionId).style.display = 'block';

            const navLinks = document.querySelectorAll('.navbar a');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            document.querySelector(`.navbar a[href="#${sectionId}"]`).classList.add('active');
        }

        document.getElementById('get-started').addEventListener('click', showFormPage);
            // To ensure the "Get Started" button is in the normal position when navigating back
            window.addEventListener("popstate", function() {
                getStartedButton.classList.add("normal");
                getStartedButton.classList.remove("center");
                landingPage.style.display = "flex";
                otherSection.style.display = "none";
            });
        

        const factors = ['Mental Demand', 'Physical Demand', 'Temporal Demand', 'Performance', 'Effort', 'Frustration'];
        const participants = [];
        const weights = {
            "Mental Demand": 2,
            "Physical Demand": 2,
            "Temporal Demand": 1,
            "Performance": 4,
            "Effort": 5,
            "Frustration": 1
        };

        function validateForm(formId) {
            const form = document.getElementById(formId);
            let valid = true;
        
            // Check if all required fields are filled
            const inputs = form.querySelectorAll('input[required], select[required]');
            inputs.forEach(input => {
                if (!input.value.trim()) {
                    valid = false;
                    input.style.borderColor = 'red'; // Highlight empty fields
                } else {
                    input.style.borderColor = ''; // Reset the border color if filled
                }
            });
        
            return valid;
        }    

        function showInstructionPage1() {    
            document.getElementById('form-page').style.display = 'none';
            document.getElementById('instruction-page-1').style.display = 'block';
        }
        
        function showInstructionPage2() {
            document.getElementById('pair-comparison-page').style.display = 'none';
            document.getElementById('instruction-page-2').style.display = 'block';
        }        
    
        function showFormPage() {
            document.getElementById('landing-page').style.display = 'none';
            document.getElementById('form-page').style.display = 'block';
        }
    
        function showPairComparisonPage() {
            if (!validateForm('info-form')) {
                alert('Please fill in all required fields.');
                return;
            }
            
            document.getElementById('form-page').style.display = 'none';
            document.getElementById('pair-comparison-page').style.display = 'block';
        
            const pairComparisons = [
                ['Effort', 'Performance'],
                ['Frustration', 'Mental Demand'],
                ['Mental Demand', 'Temporal Demand'],
                ['Performance', 'Mental Demand'],
                ['Mental Demand', 'Effort'],
                ['Mental Demand', 'Physical Demand'],
                ['Effort', 'Physical Demand'],
                ['Temporal Demand', 'Frustration'],
                ['Performance', 'Frustration'],
                ['Temporal Demand', 'Physical Demand'],
                ['Temporal Demand', 'Effort'],
                ['Performance', 'Temporal Demand'],
                ['Physical Demand', 'Frustration'],
                ['Physical Demand', 'Performance'],
                ['Effort', 'Frustration']
            ];
        
            const pairComparisonForm = document.getElementById('pair-comparison-form');
            pairComparisonForm.innerHTML = ''; // Clear any existing content
        
            pairComparisons.forEach((pair, index) => {
                const comparisonContainer = document.createElement('div');
                comparisonContainer.className = 'comparison-container';
        
                const radio1 = document.createElement('input');
                radio1.type = 'radio';
                radio1.id = `pair-${index}-1`;
                radio1.name = `pair-${index}`;
                radio1.value = pair[0];
                comparisonContainer.appendChild(radio1);
        
                const label1 = document.createElement('label');
                label1.htmlFor = `pair-${index}-1`;
                label1.textContent = pair[0];
                comparisonContainer.appendChild(label1);
        
                const radio2 = document.createElement('input');
                radio2.type = 'radio';
                radio2.id = `pair-${index}-2`;
                radio2.name = `pair-${index}`;
                radio2.value = pair[1];
                comparisonContainer.appendChild(radio2);
        
                const label2 = document.createElement('label');
                label2.htmlFor = `pair-${index}-2`;
                label2.textContent = pair[1];
                comparisonContainer.appendChild(label2);
        
                pairComparisonForm.appendChild(comparisonContainer);
            });
        }
        
        function showPairResults() {
            const pairResultsContainer = document.getElementById('pair-results');
            pairResultsContainer.innerHTML = ''; // Clear any existing content
    
            const selectedPairs = {};
    
            factors.forEach(factor => {
                selectedPairs[factor] = 0;
            });
    
            const pairComparisons = document.querySelectorAll('#pair-comparison-form input[type="radio"]:checked');
    
            pairComparisons.forEach(pair => {
                selectedPairs[pair.value]++;
            });
    
            let resultHtml = '<ul>';
            factors.forEach(factor => {
                resultHtml += `<li>${factor}: ${selectedPairs[factor]}</li>`;
                weights[factor] = selectedPairs[factor];
            });
            resultHtml += '</ul>';
    
            pairResultsContainer.innerHTML = resultHtml;
            pairResultsContainer.style.display = 'block';
        }
    
        function showTLXPage() {
            const pairComparisons = document.querySelectorAll('#pair-comparison-form input[type="radio"]:checked');
            if (pairComparisons.length < 15) {
                alert('Please complete all pair comparisons.');
                return;
            }
        
            document.getElementById('pair-comparison-page').style.display = 'none';
            document.getElementById('tlx-page').style.display = 'block';
        
            const factors = [
                'Mental Demand',
                'Physical Demand',
                'Temporal Demand',
                'Performance',
                'Effort',
                'Frustration'
            ];
        
            const questions = {
                'Mental Demand': 'How mentally demanding was the task?',
                'Physical Demand': 'How physically demanding was the task?',
                'Temporal Demand': 'How hurried or rushed was the pace of the task?',
                'Performance': 'How successful were you in accomplishing what you were asked to do?',
                'Effort': 'How hard did you have to work to accomplish your level of performance?',
                'Frustration': 'How insecure, discouraged, irritated, stressed, and annoyed were you?'
            };
        
            factors.forEach(factor => {
                const container = document.getElementById(`${factor.toLowerCase().replace(' ', '-')}-container`);
                container.innerHTML = `
                    <div class="horizontal-line"></div>
                    <span class="scale-label left">Very Low</span>
                    <span class="scale-label right">Very High</span>
                `;
                for (let i = 0; i <= 100; i += 5) {
                    const inputId = `${factor.toLowerCase().replace(' ', '-')}-${i}`;
                    container.innerHTML += `
                        <input type="radio" id="${inputId}" name="${factor.toLowerCase().replace(' ', '-')}" value="${i}">
                        <label for="${inputId}"><span data-value="${i}"></span></label>
                    `;
                }
            });
        
            // Add event listeners to update the span text on selection
            factors.forEach(factor => {
                const container = document.getElementById(`${factor.toLowerCase().replace(' ', '-')}-container`);
                container.addEventListener('change', (event) => {
                    if (event.target.type === 'radio') {
                        document.getElementById(`${factor.toLowerCase().replace(' ', '-')}-value`).textContent = event.target.value;
                    }
                });
            });
        }

        function clearData() {
            // Reset the forms
            document.getElementById('info-form').reset();
            document.getElementById('pair-comparison-form').reset();
            document.getElementById('tlx-form').reset();
            
            // Hide sections
            document.getElementById('form-page').style.display = 'none';
            document.getElementById('pair-comparison-page').style.display = 'none';
            document.getElementById('tlx-page').style.display = 'none';
            document.getElementById('final-results').style.display = 'none';
            document.getElementById('report-page').style.display = 'none';
            
            // Clear the pair results and report content
            document.getElementById('pair-results').innerHTML = '';
            document.getElementById('report').innerHTML = '';
            
            // Clear the participants array
            participants.length = 0;
            
            // Redirect to the landing page
            document.getElementById('landing-page').style.display = 'block';
        }

        function goBackToFormPage() {
            document.getElementById('pair-comparison-page').style.display = 'none';
            document.getElementById('form-page').style.display = 'block';
        }
        
        function goBackToPairComparisonPage() {
            document.getElementById('tlx-page').style.display = 'none';
            document.getElementById('pair-comparison-page').style.display = 'block';
        }
        
        function goBackToLandingPage() {
            clearData(); // Clear all data and reset the form
        }
        
        function calculateRating() {
            const factors = [
                'Mental Demand',
                'Physical Demand',
                'Temporal Demand',
                'Performance',
                'Effort',
                'Frustration'
            ];
        
            const tlxResults = {};
            const individualIndexes = {};
        
            let allAnswered = true;
            factors.forEach(factor => {
                const selectedValue = document.querySelector(`input[name="${factor.toLowerCase().replace(' ', '-')}"]:checked`);
                if (selectedValue) {
                    tlxResults[factor] = parseInt(selectedValue.value);
                } else {
                    allAnswered = false;
                    alert(`Please rate all the factors.`);
                    return;
                }
            });
        
            if (!allAnswered) return;
        
            const finalResultsContainer = document.getElementById('final-results');
            finalResultsContainer.style.display = 'block';
        
            let globalIndex = 0;
            factors.forEach(factor => {
                // Calculate the Individual Index
                const weightResult = weights[factor];
                const individualIndex = Math.round((weightResult / 15) * tlxResults[factor]);
                individualIndexes[factor] = individualIndex;
                globalIndex += individualIndex;
        
                // Update the UI with the final results
                document.getElementById(`final-${factor.toLowerCase().replace(' ', '-')}`).textContent = tlxResults[factor];
            });
        
            document.getElementById('tlx-score').textContent = globalIndex;
        
            participants.push({
                name: document.getElementById('name').value,
                age: document.getElementById('age').value,
                gender: document.getElementById('gender').value,
                blockSection: document.getElementById('block-section').value,
                occupation: document.getElementById('occupation').value,
                tlxResults: tlxResults,
                individualIndexes: individualIndexes,
                tlxScore: globalIndex,
                weights: { ...weights }
            });
        
            generateReport();
        }        
        
        function generateLineScales() {
            scales.forEach(scale => {
                let container = document.getElementById(`${scale.toLowerCase().replace(" ", "-")}-container`);
                container.innerHTML = `
                    <label class="scale-label left">Low</label>
                    <label class="scale-label right">High</label>
                    <div class="horizontal-line"></div>
                `;
                for (let i = 0; i <= 100; i += 5) {
                    let label = document.createElement("label");
                    label.innerHTML = `<span data-value="${i}"></span>`;
                    let radio = document.createElement("input");
                    radio.type = "radio";
                    radio.name = `${scale.toLowerCase().replace(" ", "-")}`;
                    radio.value = i;
                    radio.id = `${scale.toLowerCase().replace(" ", "-")}-${i}`;
                    label.setAttribute("for", `${scale.toLowerCase().replace(" ", "-")}-${i}`);
                    container.appendChild(radio);
                    container.appendChild(label);
                }
            });
        }
        
        function generateReport() {
            document.getElementById('tlx-page').style.display = 'none';
            document.getElementById('report-page').style.display = 'block';
        
            const reportContainer = document.getElementById('report');
            reportContainer.innerHTML = ''; // Clear any existing content
        
            participants.forEach(participant => {
                let reportHtml = `<h3>Participant: ${participant.name}</h3>`;
                reportHtml += `<p>Age: ${participant.age}</p>`;
                reportHtml += `<p>Gender: ${participant.gender}</p>`;
                reportHtml += `<p>Course/Profession: ${participant.blockSection}</p>`;
                reportHtml += `<p>Occupation: ${participant.occupation}</p>`;
                reportHtml += '<table>';
                reportHtml += '<tr><th>Factor</th><th>Weight</th><th>Rate</th><th>Weight x Rate</th><th>Individual Index</th></tr>';
        
                factors.forEach(factor => {
                    const weightResult = participant.weights[factor];
                    const rate = participant.tlxResults[factor];
                    const weightXRate = weightResult * rate;
                    const individualIndex = participant.individualIndexes[factor];
                    reportHtml += `<tr>
                        <td>${factor}</td>
                        <td>${weightResult}</td>
                        <td>${rate}</td>
                        <td>${weightXRate}</td>
                        <td>${individualIndex}</td>
                    </tr>`;
                });
        
                reportHtml += '</table>';
                reportHtml += `<p><strong>Perceived Workload - Global Index: ${participant.tlxScore}</strong></p>`;

                const globalIndex = participant.tlxScore;
                let interpretation = '';
        
                if (globalIndex >= 0 && globalIndex <= 20) {
                    interpretation = 'The mental workload is Very Low.';
                } else if (globalIndex >= 21 && globalIndex <= 40) {
                    interpretation = 'The mental workload is Low.';
                } else if (globalIndex >= 41 && globalIndex <= 60) {
                    interpretation = 'The mental workload is Moderate.';
                } else if (globalIndex >= 61 && globalIndex <= 80) {
                    interpretation = 'The mental workload is High.';
                } else if (globalIndex >= 81 && globalIndex <= 100) {
                    interpretation = 'The mental workload is Very High.';
                }
        
                reportHtml += `<p><strong>Global Index Interpretation:</strong> ${interpretation}</p>`; 
        
                reportContainer.innerHTML += reportHtml;
            });
        }
    </script>


